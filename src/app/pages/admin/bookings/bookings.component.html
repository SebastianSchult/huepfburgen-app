<h2>Offene Buchungen</h2>
<!-- Desktop-Table für offene -->
<div class="table-container">
  <table mat-table [dataSource]="bookings" class="mat-elevation-z8">
    <!-- wie gehabt: equipmentName … actions -->
    <ng-container matColumnDef="equipmentName">
      <th mat-header-cell *matHeaderCellDef>Equipment</th>
      <td mat-cell *matCellDef="let b">{{ b.equipmentName }}</td>
    </ng-container>
    <ng-container matColumnDef="createdByEmail">
      <th mat-header-cell *matHeaderCellDef>Erstellt von</th>
      <td mat-cell *matCellDef="let b">{{ b.createdByEmail }}</td>
    </ng-container>
    <ng-container matColumnDef="bookedFor">
      <th mat-header-cell *matHeaderCellDef>Gebucht für</th>
      <td mat-cell *matCellDef="let b">{{ b.bookedFor }}</td>
    </ng-container>
    <ng-container matColumnDef="startDate">
      <th mat-header-cell *matHeaderCellDef>Start</th>
      <td mat-cell *matCellDef="let b">{{ b.startDate | date:'short' }}</td>
    </ng-container>
    <ng-container matColumnDef="endDate">
      <th mat-header-cell *matHeaderCellDef>Ende</th>
      <td mat-cell *matCellDef="let b">{{ b.endDate | date:'short' }}</td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let b" [ngClass]="b.status">{{ b.status }}</td>
    </ng-container>
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Aktionen</th>
      <td mat-cell *matCellDef="let b">
        <button mat-button color="primary" class="action-btn" (click)="approveBooking(b.id!)">
          Annehmen
        </button>
        <button mat-button color="warn" class="action-btn" (click)="rejectBooking(b.id!)">
          Ablehnen
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>

<!-- Mobile-Cards für offene -->
<div class="mobile-cards">
  <mat-card *ngFor="let b of bookings" class="booking-card mat-elevation-z4">
    <div class="field"><span class="label">Equipment:</span><span class="value">{{ b.equipmentName }}</span></div>
    <div class="field"><span class="label">Erstellt von:</span><span class="value">{{ b.createdByEmail }}</span></div>
    <div class="field"><span class="label">Gebucht für:</span><span class="value">{{ b.bookedFor }}</span></div>
    <div class="field"><span class="label">Start:</span><span class="value">{{ b.startDate | date:'short' }}</span></div>
    <div class="field"><span class="label">Ende:</span><span class="value">{{ b.endDate | date:'short' }}</span></div>
    <div class="field"><span class="label">Status:</span><span class="value" [ngClass]="b.status">{{ b.status }}</span></div>
    <div class="actions">
      <button mat-button color="primary" class="action-btn" (click)="approveBooking(b.id!)">Annehmen</button>
      <button mat-button color="warn" class="action-btn" (click)="rejectBooking(b.id!)">Ablehnen</button>
    </div>
  </mat-card>
</div>

<h2>Bestätigte Buchungen</h2>
<!-- Desktop-Table für bestätigte -->
<div class="table-container">
  <table mat-table [dataSource]="bookingsConfirmed" class="mat-elevation-z8">
    <!-- gleiche Spalten + Stornieren -->
    <ng-container matColumnDef="equipmentName">
      <th mat-header-cell *matHeaderCellDef>Equipment</th>
      <td mat-cell *matCellDef="let b">{{ b.equipmentName }}</td>
    </ng-container>
    <ng-container matColumnDef="createdByEmail">
      <th mat-header-cell *matHeaderCellDef>Erstellt von</th>
      <td mat-cell *matCellDef="let b">{{ b.createdByEmail }}</td>
    </ng-container>
    <ng-container matColumnDef="bookedFor">
      <th mat-header-cell *matHeaderCellDef>Gebucht für</th>
      <td mat-cell *matCellDef="let b">{{ b.bookedFor }}</td>
    </ng-container>
    <ng-container matColumnDef="startDate">
      <th mat-header-cell *matHeaderCellDef>Start</th>
      <td mat-cell *matCellDef="let b">{{ b.startDate | date:'short' }}</td>
    </ng-container>
    <ng-container matColumnDef="endDate">
      <th mat-header-cell *matHeaderCellDef>Ende</th>
      <td mat-cell *matCellDef="let b">{{ b.endDate | date:'short' }}</td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let b" [ngClass]="b.status">{{ b.status }}</td>
    </ng-container>
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Aktionen</th>
      <td mat-cell *matCellDef="let b">
        <button mat-button color="warn" class="action-btn" (click)="rejectBooking(b.id!)">
          Stornieren
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>

<!-- Mobile-Cards für bestätigte -->
<div class="mobile-cards">
  <mat-card *ngFor="let b of bookingsConfirmed" class="booking-card mat-elevation-z4">
    <div class="field"><span class="label">Equipment:</span><span class="value">{{ b.equipmentName }}</span></div>
    <div class="field"><span class="label">Erstellt von:</span><span class="value">{{ b.createdByEmail }}</span></div>
    <div class="field"><span class="label">Gebucht für:</span><span class="value">{{ b.bookedFor }}</span></div>
    <div class="field"><span class="label">Start:</span><span class="value">{{ b.startDate | date:'short' }}</span></div>
    <div class="field"><span class="label">Ende:</span><span class="value">{{ b.endDate | date:'short' }}</span></div>
    <div class="field"><span class="label">Status:</span><span class="value" [ngClass]="b.status">{{ b.status }}</span></div>
    <div class="actions">
      <button mat-button color="warn" class="action-btn" (click)="rejectBooking(b.id!)">
        Stornieren
      </button>
    </div>
  </mat-card>
</div>

<h2>Stornierte Buchungen</h2>
<!-- Desktop-Table für stornierte -->
<div class="table-container">
  <table mat-table [dataSource]="bookingsCanceled" class="mat-elevation-z8">
    <!-- gleiches Schema ohne Aktionen -->
    <ng-container matColumnDef="equipmentName">
      <th mat-header-cell *matHeaderCellDef>Equipment</th>
      <td mat-cell *matCellDef="let b">{{ b.equipmentName }}</td>
    </ng-container>
    <ng-container matColumnDef="createdByEmail">
      <th mat-header-cell *matHeaderCellDef>Erstellt von</th>
      <td mat-cell *matCellDef="let b">{{ b.createdByEmail }}</td>
    </ng-container>
    <ng-container matColumnDef="bookedFor">
      <th mat-header-cell *matHeaderCellDef>Gebucht für</th>
      <td mat-cell *matCellDef="let b">{{ b.bookedFor }}</td>
    </ng-container>
    <ng-container matColumnDef="startDate">
      <th mat-header-cell *matHeaderCellDef>Start</th>
      <td mat-cell *matCellDef="let b">{{ b.startDate | date:'short' }}</td>
    </ng-container>
    <ng-container matColumnDef="endDate">
      <th mat-header-cell *matHeaderCellDef>Ende</th>
      <td mat-cell *matCellDef="let b">{{ b.endDate | date:'short' }}</td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let b" [ngClass]="b.status">{{ b.status }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsNoActions"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsNoActions;"></tr>
  </table>
</div>

<!-- Mobile-Cards für stornierte -->
<div class="mobile-cards">
  <mat-card *ngFor="let b of bookingsCanceled" class="booking-card mat-elevation-z4">
    <div class="field"><span class="label">Equipment:</span><span class="value">{{ b.equipmentName }}</span></div>
    <div class="field"><span class="label">Erstellt von:</span><span class="value">{{ b.createdByEmail }}</span></div>
    <div class="field"><span class="label">Gebucht für:</span><span class="value">{{ b.bookedFor }}</span></div>
    <div class="field"><span class="label">Start:</span><span class="value">{{ b.startDate | date:'short' }}</span></div>
    <div class="field"><span class="label">Ende:</span><span class="value">{{ b.endDate | date:'short' }}</span></div>
    <div class="field"><span class="label">Status:</span><span class="value" [ngClass]="b.status">{{ b.status }}</span></div>
  </mat-card>
</div>